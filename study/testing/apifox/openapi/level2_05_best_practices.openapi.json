{
  "openapi": "3.1.0",
  "info": {
    "title": "ä¾èµ–æ³¨å…¥æœ€ä½³å®è·µ",
    "description": "æ¼”ç¤º DI çš„æ­£ç¡®ç”¨æ³•å’Œå¸¸è§é™·é˜±",
    "version": "2.0.0"
  },
  "paths": {
    "/pattern/anti-vs-pro": {
      "get": {
        "summary": "Compare Patterns",
        "description": "åæ¨¡å¼ vs æ­£ç¡®åšæ³•\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nâŒ æœåŠ¡å®šä½å™¨ï¼ˆåæ¨¡å¼ï¼‰\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nclass BadUserService:\n    def __init__(self):\n        self.db = ServiceLocator.get().get(\"database\")  # ä¸»åŠ¨è·å–\n\né—®é¢˜ï¼š\n- ä¾èµ–å…³ç³»ä¸æ˜ç¡®\n- éš¾ä»¥æµ‹è¯•ï¼ˆéœ€è¦è®¾ç½® ServiceLocatorï¼‰\n- éšå¼ä¾èµ–\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nâœ… ä¾èµ–æ³¨å…¥ï¼ˆæ­£ç¡®ï¼‰\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nclass GoodUserService:\n    def __init__(self, db: Database):  # æ˜ç¡®çš„ä¾èµ–\n        self.db = db\n\nä¼˜åŠ¿ï¼š\n- ä¾èµ–æ˜ç¡®ï¼ˆçœ‹æ„é€ å‡½æ•°å°±çŸ¥é“ï¼‰\n- æ˜“äºæµ‹è¯•ï¼ˆæ³¨å…¥ Mockï¼‰\n- æ˜¾å¼ä¾èµ–\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",
        "operationId": "compare_patterns_pattern_anti_vs_pro_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/pattern/over-injection": {
      "get": {
        "summary": "Demonstrate Over Injection",
        "description": "è¿‡åº¦æ³¨å…¥ vs èŒè´£å•ä¸€\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nâŒ ä¸Šå¸æœåŠ¡ï¼ˆè¿‡åº¦æ³¨å…¥ï¼‰\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nclass GodUserService:\n    def __init__(\n        self,\n        db, cache, email, sms, notification,\n        logger, audit, metrics, config  # 9 ä¸ªä¾èµ–ï¼\n    ):\n        ...\n\né—®é¢˜ï¼š\n- èŒè´£è¿‡å¤š\n- éš¾ä»¥ç»´æŠ¤\n- éš¾ä»¥æµ‹è¯•\n- è¿åå•ä¸€èŒè´£åŸåˆ™\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nâœ… èŒè´£å•ä¸€ï¼ˆæ­£ç¡®ï¼‰\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nclass CleanUserService:\n    def __init__(self, db, notification):  # 2 ä¸ªä¾èµ–\n        ...\n\nä¼˜åŠ¿ï¼š\n- èŒè´£æ¸…æ™°\n- æ˜“äºç»´æŠ¤\n- æ˜“äºæµ‹è¯•\n- ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",
        "operationId": "demonstrate_over_injection_pattern_over_injection_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/testing/demo": {
      "get": {
        "summary": "Testing Demo",
        "description": "æµ‹è¯•æ¼”ç¤º\n\nğŸ” å…³é”®ç‚¹ï¼š\n- æœåŠ¡å±‚ä»£ç ä¸éœ€è¦ä¿®æ”¹\n- åªéœ€è¦æ³¨å…¥ä¸åŒçš„ä¾èµ–\n- è¿™æ˜¯ä¾èµ–æ³¨å…¥çš„å¨åŠ›ï¼\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\næµ‹è¯•ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼‰\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n# æµ‹è¯•æ—¶æ³¨å…¥ Mock\nasync def test_get_user():\n    mock_repo = MockUserRepository()\n    service = UserService(mock_repo)  # æ³¨å…¥ Mock\n\n    user = await service.get_user(1)\n    assert user[\"name\"] == \"Alice\"\n\nâœ… ä¼˜åŠ¿ï¼š\n- ä¸éœ€è¦å¯åŠ¨ HTTP æœåŠ¡å™¨\n- ä¸éœ€è¦è¿æ¥æ•°æ®åº“\n- æµ‹è¯•é€Ÿåº¦å¿«\n- å¯ä»¥æ¨¡æ‹Ÿå„ç§åœºæ™¯\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",
        "operationId": "testing_demo_testing_demo_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/performance/cache": {
      "get": {
        "summary": "Demo Performance Cache",
        "description": "æ€§èƒ½ä¼˜åŒ–æ¼”ç¤º\n\nğŸ” FastAPI çš„ä¾èµ–ç¼“å­˜ï¼š\n- åŒä¸€ä¸ªè¯·æ±‚ä¸­\n- å¤šæ¬¡ä½¿ç”¨åŒä¸€ä¸ªä¾èµ–\n- åªåˆ›å»ºä¸€æ¬¡å®ä¾‹\n- service1, service2, service3 æ˜¯åŒä¸€ä¸ªå¯¹è±¡\n\nâœ… æ€§èƒ½æå‡ï¼š\n- é¿å…é‡å¤åˆ›å»º\n- èŠ‚çœèµ„æº\n- æé«˜å“åº”é€Ÿåº¦\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nå®é™…åœºæ™¯\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\næ•°æ®åº“è¿æ¥æ± ï¼š\n- åˆ›å»ºæˆæœ¬é«˜\n- åŒä¸€ä¸ªè¯·æ±‚å…±äº«è¿æ¥\n- é¿å…é‡å¤å»ºç«‹è¿æ¥\n\nç¼“å­˜æœåŠ¡ï¼š\n- åˆå§‹åŒ–éœ€è¦åŠ è½½é…ç½®\n- åŒä¸€ä¸ªè¯·æ±‚å…±äº«å®ä¾‹\n- é¿å…é‡å¤åŠ è½½\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",
        "operationId": "demo_performance_cache_performance_cache_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/organization/demo": {
      "get": {
        "summary": "Demo Organization",
        "description": "ä¾èµ–ç»„ç»‡æ¼”ç¤º\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nä¾èµ–å±‚æ¬¡ç»“æ„\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nconfig (é…ç½®)\n    â†“\n    â”œâ”€â†’ logger (æ—¥å¿—å™¨)\n    â”‚       â†“\n    â”‚   service (æœåŠ¡)\n    â”‚\n    â””â”€â†’ database (æ•°æ®åº“)\n            â†“\n        repo (ä»“å‚¨)\n            â†“\n        service (æœåŠ¡)\n\nâœ… ç»„ç»‡åŸåˆ™ï¼š\n1. åŸºç¡€ä¾èµ–åœ¨åº•éƒ¨\n2. é«˜å±‚ä¾èµ–ä¾èµ–ä½å±‚ä¾èµ–\n3. æ¸…æ™°çš„å±‚æ¬¡ç»“æ„\n4. é¿å…å¾ªç¯ä¾èµ–\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",
        "operationId": "demo_organization_organization_demo_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/error-handling/demo": {
      "get": {
        "summary": "Demo Error Handling",
        "description": "é”™è¯¯å¤„ç†æ¼”ç¤º\n\nğŸ” è®¿é—®è¿™ä¸ªç«¯ç‚¹ä¼šè§¦å‘é”™è¯¯\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nâœ… æœ€ä½³å®è·µï¼š\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n1. åœ¨ä¾èµ–ä¸­è¿›è¡ŒéªŒè¯\n   - é…ç½®æ˜¯å¦å®Œæ•´\n   - èµ„æºæ˜¯å¦å¯ç”¨\n   - æƒé™æ˜¯å¦è¶³å¤Ÿ\n\n2. æŠ›å‡ºæ¸…æ™°çš„é”™è¯¯\n   - HTTPException\n   - æ˜ç¡®çš„çŠ¶æ€ç \n   - è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯\n\n3. ä½¿ç”¨ yield ç¡®ä¿æ¸…ç†\n   - å³ä½¿å‡ºé”™ä¹Ÿä¼šæ‰§è¡Œ\n   - é¿å…èµ„æºæ³„æ¼\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",
        "operationId": "demo_error_handling_error_handling_demo_get",
        "responses": {
          "500": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/best-practices/summary": {
      "get": {
        "summary": "Best Practices Summary",
        "description": "æœ€ä½³å®è·µæ€»ç»“\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nâœ… åº”è¯¥åšçš„\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n1. ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼ˆä¸æ˜¯æœåŠ¡å®šä½å™¨ï¼‰\n   class Service:\n       def __init__(self, repo):  # âœ… æ˜ç¡®çš„ä¾èµ–\n           self.repo = repo\n\n2. ä¿æŒæœåŠ¡èŒè´£å•ä¸€\n   class UserService:  # âœ… åªåšç”¨æˆ·ç›¸å…³çš„äº‹\n       def __init__(self, repo):\n           self.repo = repo\n\n3. åœ¨æµ‹è¯•ä¸­ä½¿ç”¨ Mock\n   mock_repo = MockRepo()\n   service = UserService(mock_repo)  # âœ… æ˜“äºæµ‹è¯•\n\n4. åˆ©ç”¨ä¾èµ–ç¼“å­˜\n   # âœ… åŒä¸€ä¸ªè¯·æ±‚ä¸­ï¼Œä¾èµ–åªåˆ›å»ºä¸€æ¬¡\n\n5. åˆç†ç»„ç»‡ä¾èµ–å±‚æ¬¡\n   # âœ… åŸºç¡€ä¾èµ– â†’ é«˜å±‚ä¾èµ–\n\n6. åœ¨ä¾èµ–ä¸­è¿›è¡ŒéªŒè¯\n   def get_db():\n       if not config.db_url:\n           raise HTTPException(...)  # âœ… æ—©æœŸå¤±è´¥\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nâŒ ä¸åº”è¯¥åšçš„\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n1. ä¸è¦ä½¿ç”¨æœåŠ¡å®šä½å™¨\n   self.repo = ServiceLocator.get(\"repo\")  # âŒ éšå¼ä¾èµ–\n\n2. ä¸è¦æ³¨å…¥è¿‡å¤šä¾èµ–\n   def __init__(self, db, cache, email, sms, ...):  # âŒ å¤ªå¤šäº†\n\n3. ä¸è¦åœ¨ä¾èµ–ä¸­åšé‡æ“ä½œ\n   def get_dep():\n       time.sleep(10)  # âŒ å¤ªæ…¢äº†\n\n4. ä¸è¦å¾ªç¯ä¾èµ–\n   A â†’ B â†’ A  # âŒ æ­»å¾ªç¯\n\n5. ä¸è¦åœ¨ä¾èµ–ä¸­è®¿é—®å…¨å±€çŠ¶æ€\n   global_state  # âŒ éš¾ä»¥æµ‹è¯•\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",
        "operationId": "best_practices_summary_best_practices_summary_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  }
}