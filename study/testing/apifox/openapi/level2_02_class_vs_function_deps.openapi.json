{
  "openapi": "3.1.0",
  "info": {
    "title": "ç±»ä¾èµ– vs å‡½æ•°ä¾èµ–",
    "description": "æ¼”ç¤ºä¸åŒç±»å‹çš„ä¾èµ–æ³¨å…¥æ–¹å¼",
    "version": "2.0.0"
  },
  "paths": {
    "/func/agent": {
      "get": {
        "summary": "Check Agent",
        "description": "ä½¿ç”¨å‡½æ•°ä¾èµ–",
        "operationId": "check_agent_func_agent_get",
        "parameters": [
          {
            "name": "user_agent",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "User Agent"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/class/items": {
      "get": {
        "summary": "Read Items",
        "description": "ä½¿ç”¨ç±»ä¾èµ–\n\nğŸ” FastAPI çš„é­”æ³•ï¼š\n1. çœ‹åˆ°ä¾èµ–æ˜¯ CommonQueryParams ç±»\n2. è‡ªåŠ¨è°ƒç”¨ CommonQueryParams(skip=0, limit=100)\n3. å‚æ•°ä»è¯·æ±‚ä¸­è‡ªåŠ¨æå–\n4. è¿”å›çš„å®ä¾‹æ³¨å…¥åˆ° endpoint",
        "operationId": "read_items_class_items_get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          },
          {
            "name": "debug",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Debug"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/db/default": {
      "get": {
        "summary": "Use Default Db",
        "description": "ä½¿ç”¨é»˜è®¤é…ç½®çš„æ•°æ®åº“è¿æ¥\n\nğŸ’¡ FastAPI ä¼šè°ƒç”¨ DatabaseConnection()\nä½¿ç”¨æ‰€æœ‰é»˜è®¤å‚æ•°",
        "operationId": "use_default_db_db_default_get",
        "parameters": [
          {
            "name": "host",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "localhost",
              "title": "Host"
            }
          },
          {
            "name": "port",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 5432,
              "title": "Port"
            }
          },
          {
            "name": "database",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "mydb",
              "title": "Database"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/db/custom": {
      "get": {
        "summary": "Use Custom Db",
        "description": "ä½¿ç”¨è‡ªå®šä¹‰é…ç½®çš„æ•°æ®åº“è¿æ¥\n\nğŸ’¡ ä½¿ç”¨å·¥å‚å‡½æ•°çš„å¥½å¤„ï¼š\n- å¯ä»¥è¯»å–é…ç½®æ–‡ä»¶\n- å¯ä»¥è¿›è¡Œåˆå§‹åŒ–é€»è¾‘\n- å¯ä»¥åˆ›å»ºå•ä¾‹",
        "operationId": "use_custom_db_db_custom_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/counter/func": {
      "get": {
        "summary": "Use Counter Func",
        "description": "ä½¿ç”¨å¯è°ƒç”¨å¯¹è±¡\n\nğŸ” å·¥ä½œåŸç†ï¼š\n1. RequestCounter() åˆ›å»ºå®ä¾‹\n2. FastAPI è°ƒç”¨å®ä¾‹çš„ __call__() æ–¹æ³•\n3. è¿”å›å€¼æ³¨å…¥åˆ° endpoint\n\nâš ï¸  æ³¨æ„ï¼š\næ¯æ¬¡è¯·æ±‚éƒ½ä¼šåˆ›å»ºæ–°å®ä¾‹",
        "operationId": "use_counter_func_counter_func_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/format/func": {
      "get": {
        "summary": "Format With Func",
        "description": "ä½¿ç”¨å‡½æ•°ä¾èµ–",
        "operationId": "format_with_func_format_func_get",
        "parameters": [
          {
            "name": "date_format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "%Y-%m-%d",
              "title": "Date Format"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/format/class": {
      "get": {
        "summary": "Format With Class",
        "description": "ä½¿ç”¨ç±»ä¾èµ–",
        "operationId": "format_with_class_format_class_get",
        "parameters": [
          {
            "name": "date_format",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "%Y-%m-%d",
              "title": "Date Format"
            }
          },
          {
            "name": "timezone",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "UTC",
              "title": "Timezone"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/service/users/{user_id}": {
      "get": {
        "summary": "Get User",
        "description": "ä½¿ç”¨ç±»ä¾èµ–å®ç°å¤æ‚é€»è¾‘\n\nâœ… ç±»ä¾èµ–çš„ä¼˜åŠ¿ï¼š\n- å¯ä»¥ç®¡ç†çŠ¶æ€ï¼ˆç¼“å­˜ï¼‰\n- å¯ä»¥æä¾›å¤šä¸ªæ–¹æ³•\n- ä»£ç ç»„ç»‡æ›´æ¸…æ™°",
        "operationId": "get_user_service_users__user_id__get",
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/service/cache/clear": {
      "get": {
        "summary": "Clear Cache",
        "description": "æ¸…ç©ºç¼“å­˜",
        "operationId": "clear_cache_service_cache_clear_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/compare/summary": {
      "get": {
        "summary": "Compare Summary",
        "description": "å‡½æ•°ä¾èµ– vs ç±»ä¾èµ– - æ€»ç»“å¯¹æ¯”\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nå‡½æ•°ä¾èµ–\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\ndef get_data(x: int, y: int) -> dict:\n    return {\"x\": x, \"y\": y, \"sum\": x + y}\n\n@app.get(\"/data\")\nasync def use_data(\n    data: dict = Depends(get_data)\n):\n    return data\n\nâœ… ä¼˜åŠ¿ï¼š\n- ç®€å•ç›´è§‚\n- æ˜“äºç†è§£\n- é€‚åˆç®€å•é€»è¾‘\n- å‡½æ•°å¼ç¼–ç¨‹é£æ ¼\n\nâš ï¸  é™åˆ¶ï¼š\n- æ— æ³•ä¿å­˜çŠ¶æ€\n- æ¯æ¬¡è°ƒç”¨éƒ½æ˜¯æ–°çš„\n- ä¸é€‚åˆå¤æ‚é€»è¾‘\n\nğŸ’¡ ä½¿ç”¨åœºæ™¯ï¼š\n- å‚æ•°è½¬æ¢\n- ç®€å•éªŒè¯\n- çº¯è®¡ç®—é€»è¾‘\n- ä¸éœ€è¦çŠ¶æ€çš„åœºæ™¯\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nç±»ä¾èµ–\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nclass DataProcessor:\n    def __init__(self, x: int, y: int):\n        self.x = x\n        self.y = y\n        self.call_count = 0\n\n    def process(self) -> dict:\n        self.call_count += 1\n        return {\n            \"x\": self.x,\n            \"y\": self.y,\n            \"sum\": self.x + self.y,\n            \"calls\": self.call_count\n        }\n\n@app.get(\"/process\")\nasync def use_processor(\n    processor: DataProcessor = Depends(DataProcessor)\n):\n    return processor.process()\n\nâœ… ä¼˜åŠ¿ï¼š\n- å¯ä»¥ä¿å­˜çŠ¶æ€\n- å¯ä»¥æä¾›å¤šä¸ªæ–¹æ³•\n- æ›´ç¬¦åˆ OOP\n- é€‚åˆå¤æ‚é€»è¾‘\n- æ˜“äºæ‰©å±•\n\nâš ï¸  é™åˆ¶ï¼š\n- ç›¸å¯¹å¤æ‚\n- éœ€è¦ç†è§£ç±»å’Œå¯¹è±¡\n\nğŸ’¡ ä½¿ç”¨åœºæ™¯ï¼š\n- éœ€è¦çŠ¶æ€ç®¡ç†ï¼ˆç¼“å­˜ã€è®¡æ•°å™¨ï¼‰\n- å¤æ‚ä¸šåŠ¡é€»è¾‘\n- éœ€è¦å¤šä¸ªç›¸å…³æ–¹æ³•\n- é¢å‘å¯¹è±¡è®¾è®¡\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\né€‰æ‹©å»ºè®®\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nä½¿ç”¨å‡½æ•°ä¾èµ–ï¼Œå½“ï¼š\nâœ… é€»è¾‘ç®€å•ï¼ˆ< 10 è¡Œï¼‰\nâœ… ä¸éœ€è¦çŠ¶æ€\nâœ… çº¯è®¡ç®—æˆ–è½¬æ¢\nâœ… å‚æ•°éªŒè¯\n\nä½¿ç”¨ç±»ä¾èµ–ï¼Œå½“ï¼š\nâœ… éœ€è¦çŠ¶æ€ï¼ˆç¼“å­˜ã€è¿æ¥ï¼‰\nâœ… é€»è¾‘å¤æ‚ï¼ˆ> 10 è¡Œï¼‰\nâœ… éœ€è¦å¤šä¸ªæ–¹æ³•\nâœ… é¢å‘å¯¹è±¡è®¾è®¡\nâœ… éœ€è¦ç»§æ‰¿æˆ–æ‰©å±•\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•",
        "operationId": "compare_summary_compare_summary_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          },
          "input": {
            "title": "Input"
          },
          "ctx": {
            "type": "object",
            "title": "Context"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      }
    }
  }
}